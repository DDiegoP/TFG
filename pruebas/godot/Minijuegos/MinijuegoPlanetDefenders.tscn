[gd_scene load_steps=16 format=3 uid="uid://14whehibnbhs"]

[ext_resource type="Texture2D" uid="uid://brdou8g3plgyx" path="res://Sprites/2D-Planet.png" id="1_e0ie4"]
[ext_resource type="Script" path="res://scripts/MInijuegos/PlanetDefendersManager.gd" id="1_wcnr6"]
[ext_resource type="Script" path="res://scripts/LauncherController.gd" id="2_e5nc3"]
[ext_resource type="Script" path="res://scripts/ReaSensorManager.gd" id="3_dk0g0"]
[ext_resource type="Script" path="res://scripts/MInijuegos/Bassplayer/BassPlayerSceneManager.gd" id="4_kxbog"]
[ext_resource type="Script" path="res://addons/godOSC/scripts/OSCClient.gd" id="5_cvvcn"]
[ext_resource type="Resource" uid="uid://c1uxgovd51uc8" path="res://Minijuegos/MinijuegosResources/PlanetDefendersInteraction1.tres" id="5_vshlv"]
[ext_resource type="Script" path="res://addons/godOSC/scripts/OSCServer.gd" id="6_bbdbf"]
[ext_resource type="Resource" uid="uid://c67ktv1g0ogrm" path="res://Minijuegos/MinijuegosResources/PlanetDefendersInteraction2.tres" id="6_csv3y"]
[ext_resource type="Resource" uid="uid://dulsb74sa6isb" path="res://Minijuegos/MinijuegosResources/PlanetDefendersInteraction3.tres" id="7_3y1us"]
[ext_resource type="Script" path="res://addons/godOSC/scripts/OSCReceiver.gd" id="7_k1p5q"]
[ext_resource type="Resource" uid="uid://beih76fuepemt" path="res://Minijuegos/MinijuegosResources/PlanetDefendersInteraction4.tres" id="8_h1gkw"]

[sub_resource type="CircleShape2D" id="CircleShape2D_wskry"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ccmcr"]

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_fjwc5"]

[node name="MinijuegoPlanetDefenders" type="Node2D" node_paths=PackedStringArray("rsManager", "launcher", "targets")]
script = ExtResource("1_wcnr6")
rsManager = NodePath("ReaSensorManager")
launcher = NodePath("Pivote/Lanzadera")
targets = [NodePath("Line2DTop"), NodePath("Line2DLeft"), NodePath("Line2DRight"), NodePath("Line2DDown")]

[node name="Planeta" type="StaticBody2D" parent="."]
position = Vector2(552, 319)
scale = Vector2(20, 20)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Planeta"]
shape = SubResource("CircleShape2D_wskry")

[node name="Sprite2D" type="Sprite2D" parent="Planeta"]
scale = Vector2(0.0387839, 0.0391232)
texture = ExtResource("1_e0ie4")

[node name="Line2DRight" type="Line2D" parent="."]
position = Vector2(745, 321)
points = PackedVector2Array(0, 0, 351.973, 0)

[node name="Line2DDown" type="Line2D" parent="."]
position = Vector2(557, 515)
points = PackedVector2Array(0, 0, 0, 351.973)

[node name="Line2DLeft" type="Line2D" parent="."]
position = Vector2(358, 321)
rotation = 3.14159
points = PackedVector2Array(0, 0, 351.973, 0)

[node name="Line2DTop" type="Line2D" parent="."]
position = Vector2(553, 121)
rotation = 3.14159
points = PackedVector2Array(0, 0, 0, 351.973)

[node name="Pivote" type="RigidBody2D" parent="."]
position = Vector2(552, 319)
collision_layer = 0
collision_mask = 0
can_sleep = false
script = ExtResource("2_e5nc3")
speed = 1.0

[node name="ButtonLeft" type="Button" parent="Pivote"]
offset_left = -544.0
offset_top = 44.0
offset_right = -109.0
offset_bottom = 326.0
metadata/_edit_use_anchors_ = true

[node name="ButtonRight" type="Button" parent="Pivote"]
offset_left = 78.9999
offset_top = 44.0
offset_right = 528.0
offset_bottom = 326.0
metadata/_edit_use_anchors_ = true

[node name="Camera2D" type="Camera2D" parent="Pivote"]
position = Vector2(-12, 5)
ignore_rotation = false

[node name="Lanzadera" type="StaticBody2D" parent="Pivote"]
position = Vector2(-0.99176, -200)
rotation = -0.00995871
collision_layer = 0
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pivote/Lanzadera"]
shape = SubResource("RectangleShape2D_ccmcr")

[node name="Sprite2D" type="Sprite2D" parent="Pivote/Lanzadera"]
scale = Vector2(20, 19.6429)
texture = SubResource("PlaceholderTexture2D_fjwc5")

[node name="Sprite2D" type="Sprite2D" parent="Pivote"]
position = Vector2(0, 4.76837e-07)
rotation = -0.00995871
scale = Vector2(20, 19.6429)
texture = SubResource("PlaceholderTexture2D_fjwc5")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pivote"]
rotation = -0.00995871
shape = SubResource("RectangleShape2D_ccmcr")

[node name="ReaSensorManager" type="Node" parent="." node_paths=PackedStringArray("client")]
script = ExtResource("3_dk0g0")
interactions = Array[Resource("res://scripts/Interaction.gd")]([ExtResource("5_vshlv"), ExtResource("6_csv3y"), ExtResource("7_3y1us"), ExtResource("8_h1gkw")])
client = NodePath("../Networking/OSCClient")

[node name="Networking" type="Node2D" parent="." node_paths=PackedStringArray("scene_client", "scene_server")]
script = ExtResource("4_kxbog")
scene_client = NodePath("OSCClient")
scene_server = NodePath("OSCServer")

[node name="OSCClient" type="Node" parent="Networking"]
script = ExtResource("5_cvvcn")
port = 3000

[node name="OSCServer" type="Node" parent="Networking"]
script = ExtResource("6_bbdbf")
port = 3003

[node name="Receiver" type="Node2D" parent="Networking" node_paths=PackedStringArray("target_server")]
script = ExtResource("7_k1p5q")
target_server = NodePath("../OSCServer")

[connection signal="button_down" from="Pivote/ButtonLeft" to="Pivote" method="_on_button_left_button_down"]
[connection signal="button_up" from="Pivote/ButtonLeft" to="Pivote" method="_on_button_left_button_up"]
[connection signal="button_down" from="Pivote/ButtonRight" to="Pivote" method="_on_button_right_button_down"]
[connection signal="button_up" from="Pivote/ButtonRight" to="Pivote" method="_on_button_right_button_up"]
